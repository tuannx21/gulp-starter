!function i(d,c,l){function u(t,e){if(!c[t]){if(!d[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(a)return a(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var r=c[t]={exports:{}};d[t][0].call(r.exports,function(e){return u(d[t][1][e]||e)},r,r.exports,i,d,c,l)}return c[t].exports}for(var a="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,o){"use strict";var c,l=e("./todo-function"),n="all",r=function(d){c.map(function(e){var t=document.querySelector("#todo-template").content.cloneNode(!0),o=t.querySelector("li");switch(d){case"uncomplete":o.style.display=!0===e.completed?"none":"block";break;case"completed":o.style.display=!0===e.completed?"block":"none";break;default:o.style.display="block"}o.id="todo".concat(e.id);var n=o.querySelector("#input-todo"),r=o.querySelector("#remove-todo"),i=o.querySelector("#complete-todo");n.value=e.title,n.style.textDecoration=!0===e.completed?"line-through":"none",o.addEventListener("mouseover",function(){r.classList.add("active"),i.classList.add("active")}),o.addEventListener("mouseout",function(){r.classList.remove("active"),i.classList.remove("active")}),n.addEventListener("dblclick",function(){this.readOnly=!1}),n.addEventListener("blur",function(){n.readOnly=!0,c=""!==n.value?(0,l.updateTodo)(c,{id:e.id,title:n.value}):(0,l.removeTodo)(c,e),u(d)}),n.addEventListener("keypress",function(){13!==event.which&&13!==event.keyCode||(c=(0,l.updateTodo)(c,{id:e.id,title:n.value}),u())}),r.addEventListener("click",function(){c=(0,l.removeTodo)(c,e),u(d)}),i.addEventListener("click",function(){c=(0,l.toggleTodo)(c,e),u(d)}),document.querySelector("#todo-list").appendChild(t)}),window.localStorage.setItem("todos",JSON.stringify(c))},u=function(){!function(){for(var e=document.querySelector("#todo-list");e.firstChild;)e.removeChild(e.firstChild)}(),r(n),document.querySelector("#all").innerHTML=c.length,document.querySelector("#remaining").innerHTML=(0,l.remainingTodos)(c).length};!function(){var e;e=JSON.parse(window.localStorage.getItem("todos")),c=null===e?[]:e,u();var t=document.querySelector("#input-new-todo");t.addEventListener("keypress",function(e){13!==e.which&&13!==e.keyCode||(c=(0,l.addTodo)(c,t.value),t.value="",u())}),document.querySelector("#complete-all-todo").addEventListener("click",function(){(0,l.completeAll)(c),u()}),document.querySelector("#show-all").addEventListener("click",function(){n="all",u()}),document.querySelector("#show-uncomplete").addEventListener("click",function(){n="uncomplete",u()}),document.querySelector("#show-completed").addEventListener("click",function(){n="completed",u()}),u()}()},{"./todo-function":2}],2:[function(e,t,o){"use strict";function i(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(o,"__esModule",{value:!0}),o.remainingTodos=o.completeAll=o.toggleTodo=o.updateTodo=o.removeTodo=o.addTodo=void 0;o.addTodo=function(e,t){return""!==t?[].concat(i(e),[{id:e.reduce(function(e,t){return e.id>t.id?e.id:t.id},0)+1,title:t,completed:!1}]):(alert("u must type something first !!"),e)};o.removeTodo=function(e,t){var o=t.id;return e.filter(function(e){return e.id!==o})};o.updateTodo=function(e,t){var o=t.id,n=t.title,r=i(e);return r[r.findIndex(function(e){return e.id===o})].title=n,r};o.toggleTodo=function(e,t){var o=t.id,n=i(e),r=n.findIndex(function(e){return e.id===o});return n[r].completed=!n[r].completed,n};o.completeAll=function(e){return e.map(function(e){return e.completed=!0})};o.remainingTodos=function(e){return e.filter(function(e){return!1===e.completed})}},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1bmRsZS5taW4uanMiXSwibmFtZXMiOlsiciIsImUiLCJuIiwidCIsIm8iLCJpIiwiZiIsImMiLCJyZXF1aXJlIiwidSIsImEiLCJFcnJvciIsImNvZGUiLCJwIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiVG9kb0xpc3QiLCJfdG9kb0Z1bmN0aW9uIiwiY3VycmVudE1vZGUiLCJzaG93VG9kb3MiLCJtb2RlIiwibWFwIiwidG9kbyIsImNsb25lIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsInRvZG9JdGVtIiwic3R5bGUiLCJkaXNwbGF5IiwiY29tcGxldGVkIiwiaWQiLCJjb25jYXQiLCJpbnB1dCIsInJlbW92ZSIsImNvbXBsZXRlIiwidmFsdWUiLCJ0aXRsZSIsInRleHREZWNvcmF0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsImFkZCIsInRoaXMiLCJyZWFkT25seSIsInVwZGF0ZVRvZG8iLCJyZW1vdmVUb2RvIiwicmVyZW5kZXIiLCJldmVudCIsIndoaWNoIiwia2V5Q29kZSIsInRvZ2dsZVRvZG8iLCJhcHBlbmRDaGlsZCIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwidG9kb0xpc3QiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJjbGVhclRvZG9zIiwiaW5uZXJIVE1MIiwicmVtYWluaW5nVG9kb3MiLCJUb2RvTGlzdEZyb21Mb2NhbFN0b3JhZ2UiLCJwYXJzZSIsImdldEl0ZW0iLCJpbnB1dE5ld1RvZG8iLCJhZGRUb2RvIiwiY29tcGxldGVBbGwiLCJUb2RvQXBwIiwiLi90b2RvLWZ1bmN0aW9uIiwiMiIsIl90b0NvbnN1bWFibGVBcnJheSIsImFyciIsIkFycmF5IiwiaXNBcnJheSIsImFycjIiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJpdGVyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImZyb20iLCJfaXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwiZGVmaW5lUHJvcGVydHkiLCJ0b2Rvc0JlZm9yZUFkZCIsInJlZHVjZSIsImIiLCJhbGVydCIsInRvZG9zQmVmb3JlUmVtb3ZlIiwiX3JlZiIsImZpbHRlciIsInRvZG9zQmVmb3JlVXBkYXRlIiwiX3JlZjIiLCJ0ZW1wIiwiZmluZEluZGV4IiwiX3JlZjMiLCJ0b2RvcyJdLCJtYXBwaW5ncyI6IkNBQVksU0FBU0EsRUFBRUMsRUFBRUMsRUFBRUMsR0FBRyxTQUFTQyxFQUFFQyxFQUFFQyxHQUFHLElBQUlKLEVBQUVHLEdBQUcsQ0FBQyxJQUFJSixFQUFFSSxHQUFHLENBQUMsSUFBSUUsRUFBRSxtQkFBbUJDLFNBQVNBLFFBQVEsSUFBSUYsR0FBR0MsRUFBRSxPQUFPQSxFQUFFRixHQUFFLEdBQUksR0FBR0ksRUFBRSxPQUFPQSxFQUFFSixHQUFFLEdBQUksSUFBSUssRUFBRSxJQUFJQyxNQUFNLHVCQUF1Qk4sRUFBRSxLQUFLLE1BQU1LLEVBQUVFLEtBQUssbUJBQW1CRixFQUFFLElBQUlHLEVBQUVYLEVBQUVHLEdBQUcsQ0FBQ1MsUUFBUSxJQUFJYixFQUFFSSxHQUFHLEdBQUdVLEtBQUtGLEVBQUVDLFFBQVEsU0FBU2QsR0FBb0IsT0FBT0ksRUFBbEJILEVBQUVJLEdBQUcsR0FBR0wsSUFBZUEsSUFBSWEsRUFBRUEsRUFBRUMsUUFBUWQsRUFBRUMsRUFBRUMsRUFBRUMsR0FBRyxPQUFPRCxFQUFFRyxHQUFHUyxRQUFRLElBQUksSUFBSUwsRUFBRSxtQkFBbUJELFNBQVNBLFFBQVFILEVBQUUsRUFBRUEsRUFBRUYsRUFBRWEsT0FBT1gsSUFBSUQsRUFBRUQsRUFBRUUsSUFBSSxPQUFPRCxFQUE3YixDQUE0YyxDQUFDYSxFQUFFLENBQUMsU0FBU1QsRUFBUVUsRUFBT0osR0FDeGUsYUFFQSxJQUVJSyxFQUZBQyxFQUFnQlosRUFBUSxtQkFH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QUFFeUIsR0FBSzRELEVBQUU1RCxJQUM3QixHQUFLLEVBQ1JNLE1BQU9BLEVBQ1BQLFdBQVcsTUFHYjhELE1BQU0sa0NBQ0NILElBYVgvRSxFQUFRbUMsV0FQUyxTQUFvQmdELEVBQW1CQyxHQUN0RCxJQUFJL0QsRUFBSytELEVBQUsvRCxHQUNkLE9BQU84RCxFQUFrQkUsT0FBTyxTQUFVMUUsR0FDeEMsT0FBT0EsRUFBS1UsS0FBT0EsS0FrQnZCckIsRUFBUWtDLFdBWlMsU0FBb0JvRCxFQUFtQkMsR0FDdEQsSUFBSWxFLEVBQUtrRSxFQUFNbEUsR0FDWE0sRUFBUTRELEVBQU01RCxNQUVkNkQsRUFBTzFCLEVBQW1Cd0IsR0FLOUIsT0FIQUUsRUFBS0EsRUFBS0MsVUFBVSxTQUFVOUUsR0FDNUIsT0FBT0EsRUFBS1UsS0FBT0EsS0FDakJNLE1BQVFBLEVBQ0w2RCxHQWlCVHhGLEVBQVF3QyxXQVpTLFNBQW9COEMsRUFBbUJJLEdBQ3RELElBQUlyRSxFQUFLcUUsRUFBTXJFLEdBRVhtRSxFQUFPMUIsRUFBbUJ3QixHQUUxQi9GLEVBQUlpRyxFQUFLQyxVQUFVLFNBQVU5RSxHQUMvQixPQUFPQSxFQUFLVSxLQUFPQSxJQUdyQixPQURBbUUsRUFBS2pHLEdBQUc2QixXQUFhb0UsRUFBS2pHLEdBQUc2QixVQUN0Qm9FLEdBV1R4RixFQUFRMEQsWUFOVSxTQUFxQmlDLEdBQ3JDLE9BQU9BLEVBQU1qRixJQUFJLFNBQVVDLEdBQ3pCLE9BQU9BLEVBQUtTLFdBQVksS0FZNUJwQixFQUFRb0QsZUFOYSxTQUF3QnVDLEdBQzNDLE9BQU9BLEVBQU1OLE9BQU8sU0FBVTFFLEdBQzVCLE9BQTBCLElBQW5CQSxFQUFLUyxjQU1kLEtBQUssR0FBRyxDQUFDIiwiZmlsZSI6ImJ1bmRsZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgX3RvZG9GdW5jdGlvbiA9IHJlcXVpcmUoXCIuL3RvZG8tZnVuY3Rpb25cIik7XG5cbnZhciBUb2RvTGlzdDtcbnZhciBjdXJyZW50TW9kZSA9ICdhbGwnOyAvL0FwcCBcblxudmFyIGluaXRpYWwgPSBmdW5jdGlvbiBpbml0aWFsKCkge1xuICB2YXIgVG9kb0xpc3RGcm9tTG9jYWxTdG9yYWdlID0gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9zJykpO1xuXG4gIGlmIChUb2RvTGlzdEZyb21Mb2NhbFN0b3JhZ2UgPT09IG51bGwpIHtcbiAgICBUb2RvTGlzdCA9IFtdO1xuICB9IGVsc2Uge1xuICAgIFRvZG9MaXN0ID0gVG9kb0xpc3RGcm9tTG9jYWxTdG9yYWdlO1xuICB9XG59O1xuXG52YXIgc2F2ZVRvTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gc2F2ZVRvTG9jYWxTdG9yYWdlKCkge1xuICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9zJywgSlNPTi5zdHJpbmdpZnkoVG9kb0xpc3QpKTtcbn07XG5cbnZhciBjbGVhclRvZG9zID0gZnVuY3Rpb24gY2xlYXJUb2RvcygpIHtcbiAgdmFyIHRvZG9MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZG8tbGlzdCcpO1xuXG4gIHdoaWxlICh0b2RvTGlzdC5maXJzdENoaWxkKSB7XG4gICAgdG9kb0xpc3QucmVtb3ZlQ2hpbGQodG9kb0xpc3QuZmlyc3RDaGlsZCk7XG4gIH1cbn07XG5cbnZhciBzaG93VG9kb3MgPSBmdW5jdGlvbiBzaG93VG9kb3MobW9kZSkge1xuICBUb2RvTGlzdC5tYXAoZnVuY3Rpb24gKHRvZG8pIHtcbiAgICB2YXIgdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9kby10ZW1wbGF0ZScpO1xuICAgIHZhciBjbG9uZSA9IHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgIHZhciB0b2RvSXRlbSA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ2xpJyk7XG5cbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgIGNhc2UgJ3VuY29tcGxldGUnOlxuICAgICAgICB0b2RvSXRlbS5zdHlsZS5kaXNwbGF5ID0gdG9kby5jb21wbGV0ZWQgPT09IHRydWUgPyAnbm9uZScgOiAnYmxvY2snO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnY29tcGxldGVkJzpcbiAgICAgICAgdG9kb0l0ZW0uc3R5bGUuZGlzcGxheSA9IHRvZG8uY29tcGxldGVkID09PSB0cnVlID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRvZG9JdGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH1cblxuICAgIHRvZG9JdGVtLmlkID0gXCJ0b2RvXCIuY29uY2F0KHRvZG8uaWQpO1xuICAgIHZhciBpbnB1dCA9IHRvZG9JdGVtLnF1ZXJ5U2VsZWN0b3IoJyNpbnB1dC10b2RvJyk7XG4gICAgdmFyIHJlbW92ZSA9IHRvZG9JdGVtLnF1ZXJ5U2VsZWN0b3IoJyNyZW1vdmUtdG9kbycpO1xuICAgIHZhciBjb21wbGV0ZSA9IHRvZG9JdGVtLnF1ZXJ5U2VsZWN0b3IoJyNjb21wbGV0ZS10b2RvJyk7XG4gICAgaW5wdXQudmFsdWUgPSB0b2RvLnRpdGxlO1xuICAgIGlucHV0LnN0eWxlLnRleHREZWNvcmF0aW9uID0gdG9kby5jb21wbGV0ZWQgPT09IHRydWUgPyAnbGluZS10aHJvdWdoJyA6ICdub25lJztcbiAgICB0b2RvSXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZW1vdmUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBjb21wbGV0ZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9KTtcbiAgICB0b2RvSXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlbW92ZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGNvbXBsZXRlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH0pO1xuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5yZWFkT25seSA9IGZhbHNlO1xuICAgIH0pO1xuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpbnB1dC5yZWFkT25seSA9IHRydWU7XG5cbiAgICAgIGlmIChpbnB1dC52YWx1ZSAhPT0gJycpIHtcbiAgICAgICAgVG9kb0xpc3QgPSAoMCwgX3RvZG9GdW5jdGlvbi51cGRhdGVUb2RvKShUb2RvTGlzdCwge1xuICAgICAgICAgIGlkOiB0b2RvLmlkLFxuICAgICAgICAgIHRpdGxlOiBpbnB1dC52YWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFRvZG9MaXN0ID0gKDAsIF90b2RvRnVuY3Rpb24ucmVtb3ZlVG9kbykoVG9kb0xpc3QsIHRvZG8pO1xuICAgICAgfVxuXG4gICAgICByZXJlbmRlcihtb2RlKTtcbiAgICB9KTtcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChldmVudC53aGljaCA9PT0gMTMgfHwgZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgVG9kb0xpc3QgPSAoMCwgX3RvZG9GdW5jdGlvbi51cGRhdGVUb2RvKShUb2RvTGlzdCwge1xuICAgICAgICAgIGlkOiB0b2RvLmlkLFxuICAgICAgICAgIHRpdGxlOiBpbnB1dC52YWx1ZVxuICAgICAgICB9KTtcbiAgICAgICAgcmVyZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBUb2RvTGlzdCA9ICgwLCBfdG9kb0Z1bmN0aW9uLnJlbW92ZVRvZG8pKFRvZG9MaXN0LCB0b2RvKTtcbiAgICAgIHJlcmVuZGVyKG1vZGUpO1xuICAgIH0pO1xuICAgIGNvbXBsZXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgVG9kb0xpc3QgPSAoMCwgX3RvZG9GdW5jdGlvbi50b2dnbGVUb2RvKShUb2RvTGlzdCwgdG9kbyk7XG4gICAgICByZXJlbmRlcihtb2RlKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9kby1saXN0JykuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICB9KTtcbiAgc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XG59O1xuXG52YXIgc2hvd1N0YXRpc3RpY2FsID0gZnVuY3Rpb24gc2hvd1N0YXRpc3RpY2FsKCkge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWxsJykuaW5uZXJIVE1MID0gVG9kb0xpc3QubGVuZ3RoO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVtYWluaW5nJykuaW5uZXJIVE1MID0gKDAsIF90b2RvRnVuY3Rpb24ucmVtYWluaW5nVG9kb3MpKFRvZG9MaXN0KS5sZW5ndGg7XG59O1xuXG52YXIgcmVyZW5kZXIgPSBmdW5jdGlvbiByZXJlbmRlcigpIHtcbiAgY2xlYXJUb2RvcygpO1xuICBzaG93VG9kb3MoY3VycmVudE1vZGUpO1xuICBzaG93U3RhdGlzdGljYWwoKTtcbn07XG5cbnZhciBUb2RvQXBwID0gZnVuY3Rpb24gVG9kb0FwcCgpIHtcbiAgaW5pdGlhbCgpO1xuICByZXJlbmRlcigpO1xuICB2YXIgaW5wdXROZXdUb2RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2lucHV0LW5ldy10b2RvJyk7XG4gIGlucHV0TmV3VG9kby5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudC53aGljaCA9PT0gMTMgfHwgZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgIFRvZG9MaXN0ID0gKDAsIF90b2RvRnVuY3Rpb24uYWRkVG9kbykoVG9kb0xpc3QsIGlucHV0TmV3VG9kby52YWx1ZSk7XG4gICAgICBpbnB1dE5ld1RvZG8udmFsdWUgPSAnJztcbiAgICAgIHJlcmVuZGVyKCk7XG4gICAgfVxuICB9KTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbXBsZXRlLWFsbC10b2RvJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgKDAsIF90b2RvRnVuY3Rpb24uY29tcGxldGVBbGwpKFRvZG9MaXN0KTtcbiAgICByZXJlbmRlcigpO1xuICB9KTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Nob3ctYWxsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY3VycmVudE1vZGUgPSAnYWxsJztcbiAgICByZXJlbmRlcigpO1xuICB9KTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Nob3ctdW5jb21wbGV0ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGN1cnJlbnRNb2RlID0gJ3VuY29tcGxldGUnO1xuICAgIHJlcmVuZGVyKCk7XG4gIH0pO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2hvdy1jb21wbGV0ZWQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBjdXJyZW50TW9kZSA9ICdjb21wbGV0ZWQnO1xuICAgIHJlcmVuZGVyKCk7XG4gIH0pO1xuICByZXJlbmRlcigpO1xufTsgLy9TdGFydCBBcHBcblxuXG5Ub2RvQXBwKCk7XG5cbn0se1wiLi90b2RvLWZ1bmN0aW9uXCI6Mn1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnJlbWFpbmluZ1RvZG9zID0gZXhwb3J0cy5jb21wbGV0ZUFsbCA9IGV4cG9ydHMudG9nZ2xlVG9kbyA9IGV4cG9ydHMudXBkYXRlVG9kbyA9IGV4cG9ydHMucmVtb3ZlVG9kbyA9IGV4cG9ydHMuYWRkVG9kbyA9IHZvaWQgMDtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09IFwiW29iamVjdCBBcmd1bWVudHNdXCIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IH1cblxuLy9CYXNpYyBGdW5jdGlvblxudmFyIGFkZFRvZG8gPSBmdW5jdGlvbiBhZGRUb2RvKHRvZG9zQmVmb3JlQWRkLCB0aXRsZSkge1xuICBpZiAodGl0bGUgIT09ICcnKSB7XG4gICAgcmV0dXJuIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodG9kb3NCZWZvcmVBZGQpLCBbe1xuICAgICAgaWQ6IHRvZG9zQmVmb3JlQWRkLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYS5pZCA+IGIuaWQgPyBhLmlkIDogYi5pZDtcbiAgICAgIH0sIDApICsgMSxcbiAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgIGNvbXBsZXRlZDogZmFsc2VcbiAgICB9XSk7XG4gIH0gZWxzZSB7XG4gICAgYWxlcnQoXCJ1IG11c3QgdHlwZSBzb21ldGhpbmcgZmlyc3QgISFcIik7XG4gICAgcmV0dXJuIHRvZG9zQmVmb3JlQWRkO1xuICB9XG59O1xuXG5leHBvcnRzLmFkZFRvZG8gPSBhZGRUb2RvO1xuXG52YXIgcmVtb3ZlVG9kbyA9IGZ1bmN0aW9uIHJlbW92ZVRvZG8odG9kb3NCZWZvcmVSZW1vdmUsIF9yZWYpIHtcbiAgdmFyIGlkID0gX3JlZi5pZDtcbiAgcmV0dXJuIHRvZG9zQmVmb3JlUmVtb3ZlLmZpbHRlcihmdW5jdGlvbiAodG9kbykge1xuICAgIHJldHVybiB0b2RvLmlkICE9PSBpZDtcbiAgfSk7XG59O1xuXG5leHBvcnRzLnJlbW92ZVRvZG8gPSByZW1vdmVUb2RvO1xuXG52YXIgdXBkYXRlVG9kbyA9IGZ1bmN0aW9uIHVwZGF0ZVRvZG8odG9kb3NCZWZvcmVVcGRhdGUsIF9yZWYyKSB7XG4gIHZhciBpZCA9IF9yZWYyLmlkLFxuICAgICAgdGl0bGUgPSBfcmVmMi50aXRsZTtcblxuICB2YXIgdGVtcCA9IF90b0NvbnN1bWFibGVBcnJheSh0b2Rvc0JlZm9yZVVwZGF0ZSk7XG5cbiAgdGVtcFt0ZW1wLmZpbmRJbmRleChmdW5jdGlvbiAodG9kbykge1xuICAgIHJldHVybiB0b2RvLmlkID09PSBpZDtcbiAgfSldLnRpdGxlID0gdGl0bGU7XG4gIHJldHVybiB0ZW1wO1xufTtcblxuZXhwb3J0cy51cGRhdGVUb2RvID0gdXBkYXRlVG9kbztcblxudmFyIHRvZ2dsZVRvZG8gPSBmdW5jdGlvbiB0b2dnbGVUb2RvKHRvZG9zQmVmb3JlVXBkYXRlLCBfcmVmMykge1xuICB2YXIgaWQgPSBfcmVmMy5pZDtcblxuICB2YXIgdGVtcCA9IF90b0NvbnN1bWFibGVBcnJheSh0b2Rvc0JlZm9yZVVwZGF0ZSk7XG5cbiAgdmFyIGkgPSB0ZW1wLmZpbmRJbmRleChmdW5jdGlvbiAodG9kbykge1xuICAgIHJldHVybiB0b2RvLmlkID09PSBpZDtcbiAgfSk7XG4gIHRlbXBbaV0uY29tcGxldGVkID0gIXRlbXBbaV0uY29tcGxldGVkO1xuICByZXR1cm4gdGVtcDtcbn07XG5cbmV4cG9ydHMudG9nZ2xlVG9kbyA9IHRvZ2dsZVRvZG87XG5cbnZhciBjb21wbGV0ZUFsbCA9IGZ1bmN0aW9uIGNvbXBsZXRlQWxsKHRvZG9zKSB7XG4gIHJldHVybiB0b2Rvcy5tYXAoZnVuY3Rpb24gKHRvZG8pIHtcbiAgICByZXR1cm4gdG9kby5jb21wbGV0ZWQgPSB0cnVlO1xuICB9KTtcbn07XG5cbmV4cG9ydHMuY29tcGxldGVBbGwgPSBjb21wbGV0ZUFsbDtcblxudmFyIHJlbWFpbmluZ1RvZG9zID0gZnVuY3Rpb24gcmVtYWluaW5nVG9kb3ModG9kb3MpIHtcbiAgcmV0dXJuIHRvZG9zLmZpbHRlcihmdW5jdGlvbiAodG9kbykge1xuICAgIHJldHVybiB0b2RvLmNvbXBsZXRlZCA9PT0gZmFsc2U7XG4gIH0pO1xufTtcblxuZXhwb3J0cy5yZW1haW5pbmdUb2RvcyA9IHJlbWFpbmluZ1RvZG9zO1xuXG59LHt9XX0se30sWzFdKTtcbiJdfQ==
