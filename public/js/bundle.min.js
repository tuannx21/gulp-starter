!function i(c,d,l){function u(t,e){if(!d[t]){if(!c[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(a)return a(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var r=d[t]={exports:{}};c[t][0].call(r.exports,function(e){return u(c[t][1][e]||e)},r,r.exports,i,c,d,l)}return d[t].exports}for(var a="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,o){"use strict";var l,u=e("./todo-function"),n=function(d){l.map(function(e){var t=document.querySelector("#todo-template").content.cloneNode(!0),o=t.querySelector("li");switch(d){case"uncomplete":o.style.display=!0===e.completed?"none":"block";break;case"completed":o.style.display=!0===e.completed?"block":"none";break;default:o.style.display="block"}o.id="todo".concat(e.id);var n=o.querySelector("#input-todo"),r=o.querySelector("#edit-todo"),i=o.querySelector("#remove-todo"),c=o.querySelector("#complete-todo");n.value=e.title,n.style.textDecoration=!0===e.completed?"line-through":"none",n.addEventListener("dblclick",function(){this.readOnly=!1}),r.addEventListener("click",function(){n.readOnly=!0,l=(0,u.updateTodo)(l,{id:e.id,title:n.value}),a(d)}),i.addEventListener("click",function(){l=(0,u.removeTodo)(l,e),a(d)}),c.addEventListener("click",function(){l=(0,u.toggleTodo)(l,e),a(d)}),document.querySelector("#todo-list").appendChild(t)}),window.localStorage.setItem("todos",JSON.stringify(l))},a=function(e){!function(){for(var e=document.querySelector("#todo-list");e.firstChild;)e.removeChild(e.firstChild)}(),n(e),document.querySelector("#all").innerHTML=l.length,document.querySelector("#remaining").innerHTML=(0,u.remainingTodos)(l).length};!function(){var e;e=JSON.parse(window.localStorage.getItem("todos")),l=null===e?[]:e;var t=document.querySelector("#input-new-todo");t.addEventListener("keypress",function(e){(13===e.which||13===e.keyCode)&&(l=(0,u.addTodo)(l,t.value)),a(),t.value=""}),document.querySelector("#new-todo").addEventListener("click",function(){l=(0,u.addTodo)(l,t.value),a()}),document.querySelector("#complete-all-todo").addEventListener("click",function(){(0,u.completeAll)(l),a()}),document.querySelector("#show-all").addEventListener("click",function(){a()}),document.querySelector("#show-uncomplete").addEventListener("click",function(){a("uncomplete")}),document.querySelector("#show-completed").addEventListener("click",function(){a("completed")}),a()}()},{"./todo-function":2}],2:[function(e,t,o){"use strict";function i(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(o,"__esModule",{value:!0}),o.remainingTodos=o.completeAll=o.toggleTodo=o.updateTodo=o.removeTodo=o.addTodo=void 0;o.addTodo=function(e,t){return""!==t?[].concat(i(e),[{id:e.reduce(function(e,t){return e.id>t.id?e.id:t.id},0)+1,title:t,completed:!1}]):(alert("u must type something first !!"),e)};o.removeTodo=function(e,t){var o=t.id;return e.filter(function(e){return e.id!==o})};o.updateTodo=function(e,t){var o=t.id,n=t.title,r=i(e);return r[r.findIndex(function(e){return e.id===o})].title=n,r};o.toggleTodo=function(e,t){var o=t.id,n=i(e),r=n.findIndex(function(e){return e.id===o});return n[r].completed=!n[r].completed,n};o.completeAll=function(e){return e.map(function(e){return e.completed=!0})};o.remainingTodos=function(e){return e.filter(function(e){return!1===e.completed})}},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1bmRsZS5taW4uanMiXSwibmFtZXMiOlsiciIsImUiLCJuIiwidCIsIm8iLCJpIiwiZiIsImMiLCJyZXF1aXJlIiwidSIsImEiLCJFcnJvciIsImNvZGUiLCJwIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiVG9kb0xpc3QiLCJfdG9kb0Z1bmN0aW9uIiwic2hvd1RvZG9zIiwibW9kZSIsIm1hcCIsInRvZG8iLCJjbG9uZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJ0b2RvSXRlbSIsInN0eWxlIiwiZGlzcGxheSIsImNvbXBsZXRlZCIsImlkIiwiY29uY2F0IiwiaW5wdXQiLCJlZGl0IiwicmVtb3ZlIiwiY29tcGxldGUiLCJ2YWx1ZSIsInRpdGxlIiwidGV4dERlY29yYXRpb24iLCJhZGRFdmVudExpc3RlbmVyIiwidGhpcyIsInJlYWRPbmx5IiwidXBkYXRlVG9kbyIsInJlcmVuZGVyIiwicmVtb3ZlVG9kbyIsInRvZ2dsZVRvZG8iLCJhcHBlbmRDaGlsZCIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwidG9kb0xpc3QiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJjbGVhclRvZG9zIiwiaW5uZXJIVE1MIiwicmVtYWluaW5nVG9kb3MiLCJUb2RvTGlzdEZyb21Mb2NhbFN0b3JhZ2UiLCJwYXJzZSIsImdldEl0ZW0iLCJpbnB1dE5ld1RvZG8iLCJldmVudCIsIndoaWNoIiwia2V5Q29kZSIsImFkZFRvZG8iLCJjb21wbGV0ZUFsbCIsIlRvZG9BcHAiLCIuL3RvZG8tZnVuY3Rpb24iLCIyIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiYXJyMiIsIl9hcnJheVdpdGhvdXRIb2xlcyIsIml0ZXIiLCJTeW1ib2wiLCJpdGVyYXRvciIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiZnJvbSIsIl9pdGVyYWJsZVRvQXJyYXkiLCJUeXBlRXJyb3IiLCJfbm9uSXRlcmFibGVTcHJlYWQiLCJkZWZpbmVQcm9wZXJ0eSIsInRvZG9zQmVmb3JlQWRkIiwicmVkdWNlIiwiYiIsImFsZXJ0IiwidG9kb3NCZWZvcmVSZW1vdmUiLCJfcmVmIiwiZmlsdGVyIiwidG9kb3NCZWZvcmVVcGRhdGUiLCJfcmVmMiIsInRlbXAiLCJmaW5kSW5kZXgiLCJfcmVmMyIsInRvZG9zIl0sIm1hcHBpbmdzIjoiQ0FBWSxTQUFTQSxFQUFFQyxFQUFFQyxFQUFFQyxHQUFHLFNBQVNDLEVBQUVDLEVBQUVDLEdBQUcsSUFBSUosRUFBRUcsR0FBRyxDQUFDLElBQUlKLEVBQUVJLEdBQUcsQ0FBQyxJQUFJRSxFQUFFLG1CQUFtQkMsU0FBU0EsUUFBUSxJQUFJRixHQUFHQyxFQUFFLE9BQU9BLEVBQUVGLEdBQUUsR0FBSSxHQUFHSSxFQUFFLE9BQU9BLEVBQUVKLEdBQUUsR0FBSSxJQUFJSyxFQUFFLElBQUlDLE1BQU0sdUJBQXVCTixFQUFFLEtBQUssTUFBTUssRUFBRUUsS0FBSyxtQkFBbUJGLEVBQUUsSUFBSUcsRUFBRVgsRUFBRUcsR0FBRyxDQUFDUyxRQUFRLElBQUliLEVBQUVJLEdBQUcsR0FBR1UsS0FBS0YsRUFBRUMsUUFBUSxTQUFTZCxHQUFvQixPQUFPSSxFQUFsQkgsRUFBRUksR0FBRyxHQUFHTCxJQUFlQSxJQUFJYSxFQUFFQSxFQUFFQyxRQUFRZCxFQUFFQyxFQUFFQyxFQUFFQyxHQUFHLE9BQU9ELEVBQUVHLEdBQUdTLFFBQVEsSUFBSSxJQUFJTCxFQUFFLG1CQUFtQkQsU0FBU0EsUUFBUUgsRUFBRSxFQUFFQSxFQUFFRixFQUFFYSxPQUFPWCxJQUFJRCxFQUFFRCxFQUFFRSxJQUFJLE9BQU9ELEVBQTdiLENBQTRjLENBQUNhLEVBQUUsQ0FBQyxTQUFTVCxFQUFRVSxFQUFPSixHQUN4ZSxhQUVBLElBRUlLLEVBRkFDLEVBQWdCWixFQUFRLG1CQTBCeEJhLEVBQVksU0FBbUJDLEdBQ2pDSCxF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LEVBQW1Cd0IsR0FLOUIsT0FIQUUsRUFBS0EsRUFBS0MsVUFBVSxTQUFVN0UsR0FDNUIsT0FBT0EsRUFBS1UsS0FBT0EsS0FDakJPLE1BQVFBLEVBQ0wyRCxHQWlCVHRGLEVBQVFtQyxXQVpTLFNBQW9CaUQsRUFBbUJJLEdBQ3RELElBQUlwRSxFQUFLb0UsRUFBTXBFLEdBRVhrRSxFQUFPMUIsRUFBbUJ3QixHQUUxQjdGLEVBQUkrRixFQUFLQyxVQUFVLFNBQVU3RSxHQUMvQixPQUFPQSxFQUFLVSxLQUFPQSxJQUdyQixPQURBa0UsRUFBSy9GLEdBQUc0QixXQUFhbUUsRUFBSy9GLEdBQUc0QixVQUN0Qm1FLEdBV1R0RixFQUFRd0QsWUFOVSxTQUFxQmlDLEdBQ3JDLE9BQU9BLEVBQU1oRixJQUFJLFNBQVVDLEdBQ3pCLE9BQU9BLEVBQUtTLFdBQVksS0FZNUJuQixFQUFRK0MsZUFOYSxTQUF3QjBDLEdBQzNDLE9BQU9BLEVBQU1OLE9BQU8sU0FBVXpFLEdBQzVCLE9BQTBCLElBQW5CQSxFQUFLUyxjQU1kLEtBQUssR0FBRyxDQUFDIiwiZmlsZSI6ImJ1bmRsZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgX3RvZG9GdW5jdGlvbiA9IHJlcXVpcmUoXCIuL3RvZG8tZnVuY3Rpb25cIik7XG5cbnZhciBUb2RvTGlzdDsgLy9BcHAgXG5cbnZhciBpbml0aWFsID0gZnVuY3Rpb24gaW5pdGlhbCgpIHtcbiAgdmFyIFRvZG9MaXN0RnJvbUxvY2FsU3RvcmFnZSA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2RvcycpKTtcblxuICBpZiAoVG9kb0xpc3RGcm9tTG9jYWxTdG9yYWdlID09PSBudWxsKSB7XG4gICAgVG9kb0xpc3QgPSBbXTtcbiAgfSBlbHNlIHtcbiAgICBUb2RvTGlzdCA9IFRvZG9MaXN0RnJvbUxvY2FsU3RvcmFnZTtcbiAgfVxufTtcblxudmFyIHNhdmVUb0xvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uIHNhdmVUb0xvY2FsU3RvcmFnZSgpIHtcbiAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2RvcycsIEpTT04uc3RyaW5naWZ5KFRvZG9MaXN0KSk7XG59O1xuXG52YXIgY2xlYXJUb2RvcyA9IGZ1bmN0aW9uIGNsZWFyVG9kb3MoKSB7XG4gIHZhciB0b2RvTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b2RvLWxpc3QnKTtcblxuICB3aGlsZSAodG9kb0xpc3QuZmlyc3RDaGlsZCkge1xuICAgIHRvZG9MaXN0LnJlbW92ZUNoaWxkKHRvZG9MaXN0LmZpcnN0Q2hpbGQpO1xuICB9XG59O1xuXG52YXIgc2hvd1RvZG9zID0gZnVuY3Rpb24gc2hvd1RvZG9zKG1vZGUpIHtcbiAgVG9kb0xpc3QubWFwKGZ1bmN0aW9uICh0b2RvKSB7XG4gICAgdmFyIHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZG8tdGVtcGxhdGUnKTtcbiAgICB2YXIgY2xvbmUgPSB0ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICB2YXIgdG9kb0l0ZW0gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdsaScpO1xuXG4gICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICBjYXNlICd1bmNvbXBsZXRlJzpcbiAgICAgICAgdG9kb0l0ZW0uc3R5bGUuZGlzcGxheSA9IHRvZG8uY29tcGxldGVkID09PSB0cnVlID8gJ25vbmUnIDogJ2Jsb2NrJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2NvbXBsZXRlZCc6XG4gICAgICAgIHRvZG9JdGVtLnN0eWxlLmRpc3BsYXkgPSB0b2RvLmNvbXBsZXRlZCA9PT0gdHJ1ZSA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0b2RvSXRlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG5cbiAgICB0b2RvSXRlbS5pZCA9IFwidG9kb1wiLmNvbmNhdCh0b2RvLmlkKTtcbiAgICB2YXIgaW5wdXQgPSB0b2RvSXRlbS5xdWVyeVNlbGVjdG9yKCcjaW5wdXQtdG9kbycpO1xuICAgIHZhciBlZGl0ID0gdG9kb0l0ZW0ucXVlcnlTZWxlY3RvcignI2VkaXQtdG9kbycpO1xuICAgIHZhciByZW1vdmUgPSB0b2RvSXRlbS5xdWVyeVNlbGVjdG9yKCcjcmVtb3ZlLXRvZG8nKTtcbiAgICB2YXIgY29tcGxldGUgPSB0b2RvSXRlbS5xdWVyeVNlbGVjdG9yKCcjY29tcGxldGUtdG9kbycpO1xuICAgIGlucHV0LnZhbHVlID0gdG9kby50aXRsZTtcbiAgICBpbnB1dC5zdHlsZS50ZXh0RGVjb3JhdGlvbiA9IHRvZG8uY29tcGxldGVkID09PSB0cnVlID8gJ2xpbmUtdGhyb3VnaCcgOiAnbm9uZSc7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnJlYWRPbmx5ID0gZmFsc2U7XG4gICAgfSk7XG4gICAgZWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlucHV0LnJlYWRPbmx5ID0gdHJ1ZTtcbiAgICAgIFRvZG9MaXN0ID0gKDAsIF90b2RvRnVuY3Rpb24udXBkYXRlVG9kbykoVG9kb0xpc3QsIHtcbiAgICAgICAgaWQ6IHRvZG8uaWQsXG4gICAgICAgIHRpdGxlOiBpbnB1dC52YWx1ZVxuICAgICAgfSk7XG4gICAgICByZXJlbmRlcihtb2RlKTtcbiAgICB9KTtcbiAgICByZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBUb2RvTGlzdCA9ICgwLCBfdG9kb0Z1bmN0aW9uLnJlbW92ZVRvZG8pKFRvZG9MaXN0LCB0b2RvKTtcbiAgICAgIHJlcmVuZGVyKG1vZGUpO1xuICAgIH0pO1xuICAgIGNvbXBsZXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgVG9kb0xpc3QgPSAoMCwgX3RvZG9GdW5jdGlvbi50b2dnbGVUb2RvKShUb2RvTGlzdCwgdG9kbyk7XG4gICAgICByZXJlbmRlcihtb2RlKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9kby1saXN0JykuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICB9KTtcbiAgc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XG59O1xuXG52YXIgc2hvd1N0YXRpc3RpY2FsID0gZnVuY3Rpb24gc2hvd1N0YXRpc3RpY2FsKCkge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWxsJykuaW5uZXJIVE1MID0gVG9kb0xpc3QubGVuZ3RoO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVtYWluaW5nJykuaW5uZXJIVE1MID0gKDAsIF90b2RvRnVuY3Rpb24ucmVtYWluaW5nVG9kb3MpKFRvZG9MaXN0KS5sZW5ndGg7XG59O1xuXG52YXIgcmVyZW5kZXIgPSBmdW5jdGlvbiByZXJlbmRlcihtb2RlKSB7XG4gIGNsZWFyVG9kb3MoKTtcbiAgc2hvd1RvZG9zKG1vZGUpO1xuICBzaG93U3RhdGlzdGljYWwoKTtcbn07XG5cbnZhciBUb2RvQXBwID0gZnVuY3Rpb24gVG9kb0FwcCgpIHtcbiAgaW5pdGlhbCgpO1xuICB2YXIgaW5wdXROZXdUb2RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2lucHV0LW5ldy10b2RvJyk7XG4gIGlucHV0TmV3VG9kby5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LndoaWNoID09PSAxMyB8fCBldmVudC5rZXlDb2RlID09PSAxMyA/IFRvZG9MaXN0ID0gKDAsIF90b2RvRnVuY3Rpb24uYWRkVG9kbykoVG9kb0xpc3QsIGlucHV0TmV3VG9kby52YWx1ZSkgOiAnJztcbiAgICByZXJlbmRlcigpO1xuICAgIGlucHV0TmV3VG9kby52YWx1ZSA9ICcnO1xuICB9KTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25ldy10b2RvJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgVG9kb0xpc3QgPSAoMCwgX3RvZG9GdW5jdGlvbi5hZGRUb2RvKShUb2RvTGlzdCwgaW5wdXROZXdUb2RvLnZhbHVlKTtcbiAgICByZXJlbmRlcigpO1xuICB9KTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbXBsZXRlLWFsbC10b2RvJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgKDAsIF90b2RvRnVuY3Rpb24uY29tcGxldGVBbGwpKFRvZG9MaXN0KTtcbiAgICByZXJlbmRlcigpO1xuICB9KTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Nob3ctYWxsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgcmVyZW5kZXIoKTtcbiAgfSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzaG93LXVuY29tcGxldGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICByZXJlbmRlcigndW5jb21wbGV0ZScpO1xuICB9KTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Nob3ctY29tcGxldGVkJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgcmVyZW5kZXIoJ2NvbXBsZXRlZCcpO1xuICB9KTtcbiAgcmVyZW5kZXIoKTtcbn07IC8vU3RhcnQgQXBwXG5cblxuVG9kb0FwcCgpO1xuXG59LHtcIi4vdG9kby1mdW5jdGlvblwiOjJ9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5yZW1haW5pbmdUb2RvcyA9IGV4cG9ydHMuY29tcGxldGVBbGwgPSBleHBvcnRzLnRvZ2dsZVRvZG8gPSBleHBvcnRzLnVwZGF0ZVRvZG8gPSBleHBvcnRzLnJlbW92ZVRvZG8gPSBleHBvcnRzLmFkZFRvZG8gPSB2b2lkIDA7XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSB9XG5cbi8vQmFzaWMgRnVuY3Rpb25cbnZhciBhZGRUb2RvID0gZnVuY3Rpb24gYWRkVG9kbyh0b2Rvc0JlZm9yZUFkZCwgdGl0bGUpIHtcbiAgaWYgKHRpdGxlICE9PSAnJykge1xuICAgIHJldHVybiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRvZG9zQmVmb3JlQWRkKSwgW3tcbiAgICAgIGlkOiB0b2Rvc0JlZm9yZUFkZC5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEuaWQgPiBiLmlkID8gYS5pZCA6IGIuaWQ7XG4gICAgICB9LCAwKSArIDEsXG4gICAgICB0aXRsZTogdGl0bGUsXG4gICAgICBjb21wbGV0ZWQ6IGZhbHNlXG4gICAgfV0pO1xuICB9IGVsc2Uge1xuICAgIGFsZXJ0KFwidSBtdXN0IHR5cGUgc29tZXRoaW5nIGZpcnN0ICEhXCIpO1xuICAgIHJldHVybiB0b2Rvc0JlZm9yZUFkZDtcbiAgfVxufTtcblxuZXhwb3J0cy5hZGRUb2RvID0gYWRkVG9kbztcblxudmFyIHJlbW92ZVRvZG8gPSBmdW5jdGlvbiByZW1vdmVUb2RvKHRvZG9zQmVmb3JlUmVtb3ZlLCBfcmVmKSB7XG4gIHZhciBpZCA9IF9yZWYuaWQ7XG4gIHJldHVybiB0b2Rvc0JlZm9yZVJlbW92ZS5maWx0ZXIoZnVuY3Rpb24gKHRvZG8pIHtcbiAgICByZXR1cm4gdG9kby5pZCAhPT0gaWQ7XG4gIH0pO1xufTtcblxuZXhwb3J0cy5yZW1vdmVUb2RvID0gcmVtb3ZlVG9kbztcblxudmFyIHVwZGF0ZVRvZG8gPSBmdW5jdGlvbiB1cGRhdGVUb2RvKHRvZG9zQmVmb3JlVXBkYXRlLCBfcmVmMikge1xuICB2YXIgaWQgPSBfcmVmMi5pZCxcbiAgICAgIHRpdGxlID0gX3JlZjIudGl0bGU7XG5cbiAgdmFyIHRlbXAgPSBfdG9Db25zdW1hYmxlQXJyYXkodG9kb3NCZWZvcmVVcGRhdGUpO1xuXG4gIHRlbXBbdGVtcC5maW5kSW5kZXgoZnVuY3Rpb24gKHRvZG8pIHtcbiAgICByZXR1cm4gdG9kby5pZCA9PT0gaWQ7XG4gIH0pXS50aXRsZSA9IHRpdGxlO1xuICByZXR1cm4gdGVtcDtcbn07XG5cbmV4cG9ydHMudXBkYXRlVG9kbyA9IHVwZGF0ZVRvZG87XG5cbnZhciB0b2dnbGVUb2RvID0gZnVuY3Rpb24gdG9nZ2xlVG9kbyh0b2Rvc0JlZm9yZVVwZGF0ZSwgX3JlZjMpIHtcbiAgdmFyIGlkID0gX3JlZjMuaWQ7XG5cbiAgdmFyIHRlbXAgPSBfdG9Db25zdW1hYmxlQXJyYXkodG9kb3NCZWZvcmVVcGRhdGUpO1xuXG4gIHZhciBpID0gdGVtcC5maW5kSW5kZXgoZnVuY3Rpb24gKHRvZG8pIHtcbiAgICByZXR1cm4gdG9kby5pZCA9PT0gaWQ7XG4gIH0pO1xuICB0ZW1wW2ldLmNvbXBsZXRlZCA9ICF0ZW1wW2ldLmNvbXBsZXRlZDtcbiAgcmV0dXJuIHRlbXA7XG59O1xuXG5leHBvcnRzLnRvZ2dsZVRvZG8gPSB0b2dnbGVUb2RvO1xuXG52YXIgY29tcGxldGVBbGwgPSBmdW5jdGlvbiBjb21wbGV0ZUFsbCh0b2Rvcykge1xuICByZXR1cm4gdG9kb3MubWFwKGZ1bmN0aW9uICh0b2RvKSB7XG4gICAgcmV0dXJuIHRvZG8uY29tcGxldGVkID0gdHJ1ZTtcbiAgfSk7XG59O1xuXG5leHBvcnRzLmNvbXBsZXRlQWxsID0gY29tcGxldGVBbGw7XG5cbnZhciByZW1haW5pbmdUb2RvcyA9IGZ1bmN0aW9uIHJlbWFpbmluZ1RvZG9zKHRvZG9zKSB7XG4gIHJldHVybiB0b2Rvcy5maWx0ZXIoZnVuY3Rpb24gKHRvZG8pIHtcbiAgICByZXR1cm4gdG9kby5jb21wbGV0ZWQgPT09IGZhbHNlO1xuICB9KTtcbn07XG5cbmV4cG9ydHMucmVtYWluaW5nVG9kb3MgPSByZW1haW5pbmdUb2RvcztcblxufSx7fV19LHt9LFsxXSk7XG4iXX0=
