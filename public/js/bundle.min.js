!function i(d,c,l){function u(t,e){if(!c[t]){if(!d[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(a)return a(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var r=c[t]={exports:{}};d[t][0].call(r.exports,function(e){return u(d[t][1][e]||e)},r,r.exports,i,d,c,l)}return c[t].exports}for(var a="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,o){"use strict";var c,l=e("./todo-function"),n=function(d){c.map(function(e){var t=document.querySelector("#todo-template").content.cloneNode(!0),o=t.querySelector("li");switch(d){case"uncomplete":o.style.display=!0===e.completed?"none":"block";break;case"completed":o.style.display=!0===e.completed?"block":"none";break;default:o.style.display="block"}o.id="todo".concat(e.id);var n=o.querySelector("#input-todo"),r=(o.querySelector("#edit-todo"),o.querySelector("#remove-todo")),i=o.querySelector("#complete-todo");n.value=e.title,n.style.textDecoration=!0===e.completed?"line-through":"none",n.addEventListener("dblclick",function(){this.readOnly=!1}),n.addEventListener("blur",function(){n.readOnly=!0,c=""!==n.value?(0,l.updateTodo)(c,{id:e.id,title:n.value}):(0,l.removeTodo)(c,e),u(d)}),r.addEventListener("click",function(){c=(0,l.removeTodo)(c,e),u(d)}),i.addEventListener("click",function(){c=(0,l.toggleTodo)(c,e),u(d)}),document.querySelector("#todo-list").appendChild(t)}),window.localStorage.setItem("todos",JSON.stringify(c))},u=function(e){!function(){for(var e=document.querySelector("#todo-list");e.firstChild;)e.removeChild(e.firstChild)}(),n(e),document.querySelector("#all").innerHTML=c.length,document.querySelector("#remaining").innerHTML=(0,l.remainingTodos)(c).length};!function(){var e;e=JSON.parse(window.localStorage.getItem("todos")),c=null===e?[]:e;var t=document.querySelector("#input-new-todo");t.addEventListener("keypress",function(e){13!==e.which&&13!==e.keyCode||(c=(0,l.addTodo)(c,t.value),t.value="",u())}),document.querySelector("#new-todo").addEventListener("click",function(){c=(0,l.addTodo)(c,t.value),u()}),document.querySelector("#complete-all-todo").addEventListener("click",function(){(0,l.completeAll)(c),u()}),document.querySelector("#show-all").addEventListener("click",function(){u()}),document.querySelector("#show-uncomplete").addEventListener("click",function(){u("uncomplete")}),document.querySelector("#show-completed").addEventListener("click",function(){u("completed")}),u()}()},{"./todo-function":2}],2:[function(e,t,o){"use strict";function i(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(o,"__esModule",{value:!0}),o.remainingTodos=o.completeAll=o.toggleTodo=o.updateTodo=o.removeTodo=o.addTodo=void 0;o.addTodo=function(e,t){return""!==t?[].concat(i(e),[{id:e.reduce(function(e,t){return e.id>t.id?e.id:t.id},0)+1,title:t,completed:!1}]):(alert("u must type something first !!"),e)};o.removeTodo=function(e,t){var o=t.id;return e.filter(function(e){return e.id!==o})};o.updateTodo=function(e,t){var o=t.id,n=t.title,r=i(e);return r[r.findIndex(function(e){return e.id===o})].title=n,r};o.toggleTodo=function(e,t){var o=t.id,n=i(e),r=n.findIndex(function(e){return e.id===o});return n[r].completed=!n[r].completed,n};o.completeAll=function(e){return e.map(function(e){return e.completed=!0})};o.remainingTodos=function(e){return e.filter(function(e){return!1===e.completed})}},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1bmRsZS5taW4uanMiXSwibmFtZXMiOlsiciIsImUiLCJuIiwidCIsIm8iLCJpIiwiZiIsImMiLCJyZXF1aXJlIiwidSIsImEiLCJFcnJvciIsImNvZGUiLCJwIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiVG9kb0xpc3QiLCJfdG9kb0Z1bmN0aW9uIiwic2hvd1RvZG9zIiwibW9kZSIsIm1hcCIsInRvZG8iLCJjbG9uZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJ0b2RvSXRlbSIsInN0eWxlIiwiZGlzcGxheSIsImNvbXBsZXRlZCIsImlkIiwiY29uY2F0IiwiaW5wdXQiLCJyZW1vdmUiLCJjb21wbGV0ZSIsInZhbHVlIiwidGl0bGUiLCJ0ZXh0RGVjb3JhdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aGlzIiwicmVhZE9ubHkiLCJ1cGRhdGVUb2RvIiwicmVtb3ZlVG9kbyIsInJlcmVuZGVyIiwidG9nZ2xlVG9kbyIsImFwcGVuZENoaWxkIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b2RvTGlzdCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImNsZWFyVG9kb3MiLCJpbm5lckhUTUwiLCJyZW1haW5pbmdUb2RvcyIsIlRvZG9MaXN0RnJvbUxvY2FsU3RvcmFnZSIsInBhcnNlIiwiZ2V0SXRlbSIsImlucHV0TmV3VG9kbyIsImV2ZW50Iiwid2hpY2giLCJrZXlDb2RlIiwiYWRkVG9kbyIsImNvbXBsZXRlQWxsIiwiVG9kb0FwcCIsIi4vdG9kby1mdW5jdGlvbiIsIjIiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJBcnJheSIsImlzQXJyYXkiLCJhcnIyIiwiX2FycmF5V2l0aG91dEhvbGVzIiwiaXRlciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJmcm9tIiwiX2l0ZXJhYmxlVG9BcnJheSIsIlR5cGVFcnJvciIsIl9ub25JdGVyYWJsZVNwcmVhZCIsImRlZmluZVByb3BlcnR5IiwidG9kb3NCZWZvcmVBZGQiLCJyZWR1Y2UiLCJiIiwiYWxlcnQiLCJ0b2Rvc0JlZm9yZVJlbW92ZSIsIl9yZWYiLCJmaWx0ZXIiLCJ0b2Rvc0JlZm9yZVVwZGF0ZSIsIl9yZWYyIiwidGVtcCIsImZpbmRJbmRleCIsIl9yZWYzIiwidG9kb3MiXSwibWFwcGluZ3MiOiJDQUFZLFNBQVNBLEVBQUVDLEVBQUVDLEVBQUVDLEdBQUcsU0FBU0MsRUFBRUMsRUFBRUMsR0FBRyxJQUFJSixFQUFFRyxHQUFHLENBQUMsSUFBSUosRUFBRUksR0FBRyxDQUFDLElBQUlFLEVBQUUsbUJBQW1CQyxTQUFTQSxRQUFRLElBQUlGLEdBQUdDLEVBQUUsT0FBT0EsRUFBRUYsR0FBRSxHQUFJLEdBQUdJLEVBQUUsT0FBT0EsRUFBRUosR0FBRSxHQUFJLElBQUlLLEVBQUUsSUFBSUMsTUFBTSx1QkFBdUJOLEVBQUUsS0FBSyxNQUFNSyxFQUFFRSxLQUFLLG1CQUFtQkYsRUFBRSxJQUFJRyxFQUFFWCxFQUFFRyxHQUFHLENBQUNTLFFBQVEsSUFBSWIsRUFBRUksR0FBRyxHQUFHVSxLQUFLRixFQUFFQyxRQUFRLFNBQVNkLEdBQW9CLE9BQU9JLEVBQWxCSCxFQUFFSSxHQUFHLEdBQUdMLElBQWVBLElBQUlhLEVBQUVBLEVBQUVDLFFBQVFkLEVBQUVDLEVBQUVDLEVBQUVDLEdBQUcsT0FBT0QsRUFBRUcsR0FBR1MsUUFBUSxJQUFJLElBQUlMLEVBQUUsbUJBQW1CRCxTQUFTQSxRQUFRSCxFQUFFLEVBQUVBLEVBQUVGLEVBQUVhLE9BQU9YLElBQUlELEVBQUVELEVBQUVFLElBQUksT0FBT0QsRUFBN2IsQ0FBNGMsQ0FBQ2EsRUFBRSxDQUFDLFNBQVNULEVBQVFVLEVBQU9KLEdBQ3hlLGFBRUEsSUFFSUssRUFGQUMsRUFBZ0JaLEVBQVEsbUJBMEJ4QmEsRUFBWSxTQUFtQkMsR0FDakNILEVBQVNJLElB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RSxHQUNYTSxFQUFRMEQsRUFBTTFELE1BRWQyRCxFQUFPMUIsRUFBbUJ3QixHQUs5QixPQUhBRSxFQUFLQSxFQUFLQyxVQUFVLFNBQVU1RSxHQUM1QixPQUFPQSxFQUFLVSxLQUFPQSxLQUNqQk0sTUFBUUEsRUFDTDJELEdBaUJUckYsRUFBUWtDLFdBWlMsU0FBb0JpRCxFQUFtQkksR0FDdEQsSUFBSW5FLEVBQUttRSxFQUFNbkUsR0FFWGlFLEVBQU8xQixFQUFtQndCLEdBRTFCNUYsRUFBSThGLEVBQUtDLFVBQVUsU0FBVTVFLEdBQy9CLE9BQU9BLEVBQUtVLEtBQU9BLElBR3JCLE9BREFpRSxFQUFLOUYsR0FBRzRCLFdBQWFrRSxFQUFLOUYsR0FBRzRCLFVBQ3RCa0UsR0FXVHJGLEVBQVF1RCxZQU5VLFNBQXFCaUMsR0FDckMsT0FBT0EsRUFBTS9FLElBQUksU0FBVUMsR0FDekIsT0FBT0EsRUFBS1MsV0FBWSxLQVk1Qm5CLEVBQVE4QyxlQU5hLFNBQXdCMEMsR0FDM0MsT0FBT0EsRUFBTU4sT0FBTyxTQUFVeEUsR0FDNUIsT0FBMEIsSUFBbkJBLEVBQUtTLGNBTWQsS0FBSyxHQUFHLENBQUMiLCJmaWxlIjoiYnVuZGxlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfdG9kb0Z1bmN0aW9uID0gcmVxdWlyZShcIi4vdG9kby1mdW5jdGlvblwiKTtcblxudmFyIFRvZG9MaXN0OyAvL0FwcCBcblxudmFyIGluaXRpYWwgPSBmdW5jdGlvbiBpbml0aWFsKCkge1xuICB2YXIgVG9kb0xpc3RGcm9tTG9jYWxTdG9yYWdlID0gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9zJykpO1xuXG4gIGlmIChUb2RvTGlzdEZyb21Mb2NhbFN0b3JhZ2UgPT09IG51bGwpIHtcbiAgICBUb2RvTGlzdCA9IFtdO1xuICB9IGVsc2Uge1xuICAgIFRvZG9MaXN0ID0gVG9kb0xpc3RGcm9tTG9jYWxTdG9yYWdlO1xuICB9XG59O1xuXG52YXIgc2F2ZVRvTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gc2F2ZVRvTG9jYWxTdG9yYWdlKCkge1xuICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9zJywgSlNPTi5zdHJpbmdpZnkoVG9kb0xpc3QpKTtcbn07XG5cbnZhciBjbGVhclRvZG9zID0gZnVuY3Rpb24gY2xlYXJUb2RvcygpIHtcbiAgdmFyIHRvZG9MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZG8tbGlzdCcpO1xuXG4gIHdoaWxlICh0b2RvTGlzdC5maXJzdENoaWxkKSB7XG4gICAgdG9kb0xpc3QucmVtb3ZlQ2hpbGQodG9kb0xpc3QuZmlyc3RDaGlsZCk7XG4gIH1cbn07XG5cbnZhciBzaG93VG9kb3MgPSBmdW5jdGlvbiBzaG93VG9kb3MobW9kZSkge1xuICBUb2RvTGlzdC5tYXAoZnVuY3Rpb24gKHRvZG8pIHtcbiAgICB2YXIgdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9kby10ZW1wbGF0ZScpO1xuICAgIHZhciBjbG9uZSA9IHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgIHZhciB0b2RvSXRlbSA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ2xpJyk7XG5cbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgIGNhc2UgJ3VuY29tcGxldGUnOlxuICAgICAgICB0b2RvSXRlbS5zdHlsZS5kaXNwbGF5ID0gdG9kby5jb21wbGV0ZWQgPT09IHRydWUgPyAnbm9uZScgOiAnYmxvY2snO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnY29tcGxldGVkJzpcbiAgICAgICAgdG9kb0l0ZW0uc3R5bGUuZGlzcGxheSA9IHRvZG8uY29tcGxldGVkID09PSB0cnVlID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRvZG9JdGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH1cblxuICAgIHRvZG9JdGVtLmlkID0gXCJ0b2RvXCIuY29uY2F0KHRvZG8uaWQpO1xuICAgIHZhciBpbnB1dCA9IHRvZG9JdGVtLnF1ZXJ5U2VsZWN0b3IoJyNpbnB1dC10b2RvJyk7XG4gICAgdmFyIGVkaXQgPSB0b2RvSXRlbS5xdWVyeVNlbGVjdG9yKCcjZWRpdC10b2RvJyk7XG4gICAgdmFyIHJlbW92ZSA9IHRvZG9JdGVtLnF1ZXJ5U2VsZWN0b3IoJyNyZW1vdmUtdG9kbycpO1xuICAgIHZhciBjb21wbGV0ZSA9IHRvZG9JdGVtLnF1ZXJ5U2VsZWN0b3IoJyNjb21wbGV0ZS10b2RvJyk7XG4gICAgaW5wdXQudmFsdWUgPSB0b2RvLnRpdGxlO1xuICAgIGlucHV0LnN0eWxlLnRleHREZWNvcmF0aW9uID0gdG9kby5jb21wbGV0ZWQgPT09IHRydWUgPyAnbGluZS10aHJvdWdoJyA6ICdub25lJztcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucmVhZE9ubHkgPSBmYWxzZTtcbiAgICB9KTtcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgaW5wdXQucmVhZE9ubHkgPSB0cnVlO1xuXG4gICAgICBpZiAoaW5wdXQudmFsdWUgIT09ICcnKSB7XG4gICAgICAgIFRvZG9MaXN0ID0gKDAsIF90b2RvRnVuY3Rpb24udXBkYXRlVG9kbykoVG9kb0xpc3QsIHtcbiAgICAgICAgICBpZDogdG9kby5pZCxcbiAgICAgICAgICB0aXRsZTogaW5wdXQudmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBUb2RvTGlzdCA9ICgwLCBfdG9kb0Z1bmN0aW9uLnJlbW92ZVRvZG8pKFRvZG9MaXN0LCB0b2RvKTtcbiAgICAgIH1cblxuICAgICAgcmVyZW5kZXIobW9kZSk7XG4gICAgfSk7XG4gICAgcmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgVG9kb0xpc3QgPSAoMCwgX3RvZG9GdW5jdGlvbi5yZW1vdmVUb2RvKShUb2RvTGlzdCwgdG9kbyk7XG4gICAgICByZXJlbmRlcihtb2RlKTtcbiAgICB9KTtcbiAgICBjb21wbGV0ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIFRvZG9MaXN0ID0gKDAsIF90b2RvRnVuY3Rpb24udG9nZ2xlVG9kbykoVG9kb0xpc3QsIHRvZG8pO1xuICAgICAgcmVyZW5kZXIobW9kZSk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZG8tbGlzdCcpLmFwcGVuZENoaWxkKGNsb25lKTtcbiAgfSk7XG4gIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xufTtcblxudmFyIHNob3dTdGF0aXN0aWNhbCA9IGZ1bmN0aW9uIHNob3dTdGF0aXN0aWNhbCgpIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FsbCcpLmlubmVySFRNTCA9IFRvZG9MaXN0Lmxlbmd0aDtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlbWFpbmluZycpLmlubmVySFRNTCA9ICgwLCBfdG9kb0Z1bmN0aW9uLnJlbWFpbmluZ1RvZG9zKShUb2RvTGlzdCkubGVuZ3RoO1xufTtcblxudmFyIHJlcmVuZGVyID0gZnVuY3Rpb24gcmVyZW5kZXIobW9kZSkge1xuICBjbGVhclRvZG9zKCk7XG4gIHNob3dUb2Rvcyhtb2RlKTtcbiAgc2hvd1N0YXRpc3RpY2FsKCk7XG59O1xuXG52YXIgVG9kb0FwcCA9IGZ1bmN0aW9uIFRvZG9BcHAoKSB7XG4gIGluaXRpYWwoKTtcbiAgdmFyIGlucHV0TmV3VG9kbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnB1dC1uZXctdG9kbycpO1xuICBpbnB1dE5ld1RvZG8uYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQud2hpY2ggPT09IDEzIHx8IGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICBUb2RvTGlzdCA9ICgwLCBfdG9kb0Z1bmN0aW9uLmFkZFRvZG8pKFRvZG9MaXN0LCBpbnB1dE5ld1RvZG8udmFsdWUpO1xuICAgICAgaW5wdXROZXdUb2RvLnZhbHVlID0gJyc7XG4gICAgICByZXJlbmRlcigpO1xuICAgIH1cbiAgfSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuZXctdG9kbycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIFRvZG9MaXN0ID0gKDAsIF90b2RvRnVuY3Rpb24uYWRkVG9kbykoVG9kb0xpc3QsIGlucHV0TmV3VG9kby52YWx1ZSk7XG4gICAgcmVyZW5kZXIoKTtcbiAgfSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb21wbGV0ZS1hbGwtdG9kbycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICgwLCBfdG9kb0Z1bmN0aW9uLmNvbXBsZXRlQWxsKShUb2RvTGlzdCk7XG4gICAgcmVyZW5kZXIoKTtcbiAgfSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzaG93LWFsbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHJlcmVuZGVyKCk7XG4gIH0pO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2hvdy11bmNvbXBsZXRlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgcmVyZW5kZXIoJ3VuY29tcGxldGUnKTtcbiAgfSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzaG93LWNvbXBsZXRlZCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHJlcmVuZGVyKCdjb21wbGV0ZWQnKTtcbiAgfSk7XG4gIHJlcmVuZGVyKCk7XG59OyAvL1N0YXJ0IEFwcFxuXG5cblRvZG9BcHAoKTtcblxufSx7XCIuL3RvZG8tZnVuY3Rpb25cIjoyfV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMucmVtYWluaW5nVG9kb3MgPSBleHBvcnRzLmNvbXBsZXRlQWxsID0gZXhwb3J0cy50b2dnbGVUb2RvID0gZXhwb3J0cy51cGRhdGVUb2RvID0gZXhwb3J0cy5yZW1vdmVUb2RvID0gZXhwb3J0cy5hZGRUb2RvID0gdm9pZCAwO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gXCJbb2JqZWN0IEFyZ3VtZW50c11cIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gfVxuXG4vL0Jhc2ljIEZ1bmN0aW9uXG52YXIgYWRkVG9kbyA9IGZ1bmN0aW9uIGFkZFRvZG8odG9kb3NCZWZvcmVBZGQsIHRpdGxlKSB7XG4gIGlmICh0aXRsZSAhPT0gJycpIHtcbiAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0b2Rvc0JlZm9yZUFkZCksIFt7XG4gICAgICBpZDogdG9kb3NCZWZvcmVBZGQucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLmlkID4gYi5pZCA/IGEuaWQgOiBiLmlkO1xuICAgICAgfSwgMCkgKyAxLFxuICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgY29tcGxldGVkOiBmYWxzZVxuICAgIH1dKTtcbiAgfSBlbHNlIHtcbiAgICBhbGVydChcInUgbXVzdCB0eXBlIHNvbWV0aGluZyBmaXJzdCAhIVwiKTtcbiAgICByZXR1cm4gdG9kb3NCZWZvcmVBZGQ7XG4gIH1cbn07XG5cbmV4cG9ydHMuYWRkVG9kbyA9IGFkZFRvZG87XG5cbnZhciByZW1vdmVUb2RvID0gZnVuY3Rpb24gcmVtb3ZlVG9kbyh0b2Rvc0JlZm9yZVJlbW92ZSwgX3JlZikge1xuICB2YXIgaWQgPSBfcmVmLmlkO1xuICByZXR1cm4gdG9kb3NCZWZvcmVSZW1vdmUuZmlsdGVyKGZ1bmN0aW9uICh0b2RvKSB7XG4gICAgcmV0dXJuIHRvZG8uaWQgIT09IGlkO1xuICB9KTtcbn07XG5cbmV4cG9ydHMucmVtb3ZlVG9kbyA9IHJlbW92ZVRvZG87XG5cbnZhciB1cGRhdGVUb2RvID0gZnVuY3Rpb24gdXBkYXRlVG9kbyh0b2Rvc0JlZm9yZVVwZGF0ZSwgX3JlZjIpIHtcbiAgdmFyIGlkID0gX3JlZjIuaWQsXG4gICAgICB0aXRsZSA9IF9yZWYyLnRpdGxlO1xuXG4gIHZhciB0ZW1wID0gX3RvQ29uc3VtYWJsZUFycmF5KHRvZG9zQmVmb3JlVXBkYXRlKTtcblxuICB0ZW1wW3RlbXAuZmluZEluZGV4KGZ1bmN0aW9uICh0b2RvKSB7XG4gICAgcmV0dXJuIHRvZG8uaWQgPT09IGlkO1xuICB9KV0udGl0bGUgPSB0aXRsZTtcbiAgcmV0dXJuIHRlbXA7XG59O1xuXG5leHBvcnRzLnVwZGF0ZVRvZG8gPSB1cGRhdGVUb2RvO1xuXG52YXIgdG9nZ2xlVG9kbyA9IGZ1bmN0aW9uIHRvZ2dsZVRvZG8odG9kb3NCZWZvcmVVcGRhdGUsIF9yZWYzKSB7XG4gIHZhciBpZCA9IF9yZWYzLmlkO1xuXG4gIHZhciB0ZW1wID0gX3RvQ29uc3VtYWJsZUFycmF5KHRvZG9zQmVmb3JlVXBkYXRlKTtcblxuICB2YXIgaSA9IHRlbXAuZmluZEluZGV4KGZ1bmN0aW9uICh0b2RvKSB7XG4gICAgcmV0dXJuIHRvZG8uaWQgPT09IGlkO1xuICB9KTtcbiAgdGVtcFtpXS5jb21wbGV0ZWQgPSAhdGVtcFtpXS5jb21wbGV0ZWQ7XG4gIHJldHVybiB0ZW1wO1xufTtcblxuZXhwb3J0cy50b2dnbGVUb2RvID0gdG9nZ2xlVG9kbztcblxudmFyIGNvbXBsZXRlQWxsID0gZnVuY3Rpb24gY29tcGxldGVBbGwodG9kb3MpIHtcbiAgcmV0dXJuIHRvZG9zLm1hcChmdW5jdGlvbiAodG9kbykge1xuICAgIHJldHVybiB0b2RvLmNvbXBsZXRlZCA9IHRydWU7XG4gIH0pO1xufTtcblxuZXhwb3J0cy5jb21wbGV0ZUFsbCA9IGNvbXBsZXRlQWxsO1xuXG52YXIgcmVtYWluaW5nVG9kb3MgPSBmdW5jdGlvbiByZW1haW5pbmdUb2Rvcyh0b2Rvcykge1xuICByZXR1cm4gdG9kb3MuZmlsdGVyKGZ1bmN0aW9uICh0b2RvKSB7XG4gICAgcmV0dXJuIHRvZG8uY29tcGxldGVkID09PSBmYWxzZTtcbiAgfSk7XG59O1xuXG5leHBvcnRzLnJlbWFpbmluZ1RvZG9zID0gcmVtYWluaW5nVG9kb3M7XG5cbn0se31dfSx7fSxbMV0pO1xuIl19
